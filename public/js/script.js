$(document).ready(function(){console.log("Page loaded with script.js"),$(".addTeam").on("click",function(){event.preventDefault();$(".teamName").val().trim()&&(console.log("You submitted!"),console.log($(".teamName").val().trim()),$.post("/api/teams",{teamName:$(".teamName").val().trim()}).then(function(){document.location.href="/"}))}),$(".previewPokemon").on("click",function(){event.preventDefault();var a=$(".pokemonName").val().trim();a&&$.get("/api/pokemons/"+a).then(a=>{console.log(a),$("#pokeSelection").attr("style","display: block"),$("#pokeSelection img").attr("src","https://img.pokemondb.net/artwork/vector/"+a.pokemonName+".png"),$("#pokeSelection img").attr("alt","image of a "+a.nickname),$("#pokeSelection .card-content").empty(),$("#pokeSelection .card-content").html("<h3 class='viewPokemon align bottomMargin'><strong>Abilities</strong></h3>"),async function(b){for(let e of a.abilities){var c="",d=$("<p class='bottomPadding'>");c+=`<strong>${e.name}: </strong>${e.description}`,console.log(c),d.html(c),b.append(d)}}($("#pokeSelection .card-content")),$("#pokeSelection .name").text(a.nickname),$("#pokeSelection .pokeID").text("Pokedex ID: "+a.pokedexId),a.pokeType2?$("#pokeSelection .typePreview").text(a.pokeType1+"/"+a.pokeType2):$("#pokeSelection .typePreview").text(a.pokeType1)})}),$(".savePokemon").on("click",function(){event.preventDefault();$(".pokemonName").val().trim()&&$.post("/api/pokemons/",{name:$(".pokemonName").val().trim()}).then(()=>{document.location.href="/viewAllPokemon"})}),$(".addPokemonToTeam").on("click",function(){event.preventDefault(),teamId=$(this).data("id"),document.location.href="/addToTeam/"+teamId}),$(".addToTeam").on("click",function(){event.preventDefault();var a=$(this).data("teamid"),b=$(this).data("id");console.log({teamId:a,pokemonId:b}),$.post("/api/teampokemon",{teamId:a,pokemonId:b}).then(function(){document.location.href="/"})}),$(".editTeam").on("click",function(){event.preventDefault();var a=$(this).data("id");document.location.href="/editTeam/"+a}),$(".saveTeam").on("click",function(){event.preventDefault();var a,b=$(this).data("id"),c=$(this).data("name");a=$(".teamName").val().trim()?$(".teamName").val().trim():c,$.ajax({url:"/api/teams/"+b,method:"PUT",data:{teamName:a},success:function(a){console.log(a),document.location.href="/"},error:function(a){throw a}})}),$(".deleteTeam").on("click",function(){event.preventDefault(),teamId=$(this).data("id"),$.ajax({url:"/api/teams/"+teamId,method:"DELETE",success:function(a){console.log(a),location.reload()},error:function(a){throw a}})}),$(".deleteFromTeam").on("click",function(){event.preventDefault();var a=$(this).data("ids");console.log("deleteFromTeam (script.js): ids = "+a);var b=a.indexOf(":");console.log("deleteFromTeam (script.js): separatorIndex = "+b);var c=a.substring(0,b),d=a.substring(b+1);console.log("deleteFromTeam (script.js): pokemonId ="+c+" teamId = "+d),$.ajax({url:"/api/teampokemon/"+c+"/"+d,method:"DELETE",success:function(a){console.log(a),location.reload()},error:function(a){throw a}})}),$(".deletePokemon").on("click",function(){event.preventDefault(),pokemonId=$(this).data("id"),$.ajax({url:"/api/pokemons/"+pokemonId,method:"DELETE",success:function(a){console.log(a),document.location.href="/viewAllPokemon"},error:function(a){throw a}})}),$(".removePokemonAssociations").on("click",function(){event.preventDefault(),teamId=$(this).data("id"),$.ajax({url:"/api/teampokemon/team/"+teamId,method:"DELETE",success:function(a){console.log(a),location.reload()},error:function(a){throw a}})}),$(".editOne").on("click",function(){event.preventDefault(),pokemonId=$(this).data("id"),document.location.href="/editPokemon/"+pokemonId}),$(".saveOne").on("click",function(){event.preventDefault();var a,b=$(this).data("id"),c=$(this).data("name");a=$(".nickname").val().trim()?$(".nickname").val().trim():c,console.log($(".nickname").val().trim()),$.ajax({url:"/api/pokemons/"+b,method:"PUT",data:{nickname:a},success:function(){document.location.href="/"},error:function(a){throw a}})}),$(".removeTeamAssociations").on("click",function(){event.preventDefault(),pokemonId=$(this).data("id"),$.ajax({url:"/api/teampokemon/pokemon/"+pokemonId,method:"DELETE",success:function(a){console.log(a),location.reload()},error:function(a){throw a}})})});